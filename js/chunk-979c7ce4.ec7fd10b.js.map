{"version":3,"sources":["webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/helper/createListSimply.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/pie/labelLayout.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer/findPointFromSeries.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer/AxisPointerModel.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/tooltip/TooltipView.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/bar/BaseBarSeries.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/visual/LegendVisualProvider.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer/axisTrigger.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/bar/BarSeries.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/action/createDataSelectAction.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/helper/selectableMixin.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/pie/pieLayout.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/bar.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/util/shape/sausage.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/tooltip/TooltipModel.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/tooltip/TooltipRichContent.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/pie/PieSeries.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer/CartesianAxisPointer.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer/globalListener.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer/viewHelper.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/pie.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/tooltip.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer/BaseAxisPointer.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/bar/helper.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/processor/dataFilter.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/pie/PieView.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/axisPointer/AxisPointerView.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/title.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/bar/BarView.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/visual/dataColor.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/component/tooltip/TooltipContent.js","webpack:///./node_modules/_echarts@4.6.0@echarts/lib/chart/bar/barItemStyle.js"],"names":["createDimensions","List","_util","extend","isArray","_default","seriesModel","opt","nameList","coordDimensions","source","getSource","dimensionsInfo","list","initData","module","exports","textContain","_number","parsePercent","RADIAN","Math","PI","adjustSingleSide","cx","cy","r","dir","viewWidth","viewHeight","viewLeft","viewTop","farthestX","shiftDown","start","end","delta","j","y","height","shiftUp","changeX","isDownList","lastDeltaX","Number","MAX_VALUE","i","l","length","labelAlignTo","deltaY","abs","len","length2","len2","deltaX","sqrt","x","sort","a","b","lastY","upList","downList","position","dx","linePoints","push","avoidOverlap","labelLayoutList","leftList","rightList","leftmostX","rightmostX","isPositionCenter","min","max","layout","targetTextWidth","isAlignToEdge","realTextWidth","textRect","width","labelDistance","labelMargin","bleedMargin","text","truncateText","font","getWidth","dist","data","getData","hasLabelRotate","minShowLabelRadian","get","each","idx","getItemLayout","itemModel","getItemModel","labelModel","getModel","labelPosition","getFont","labelLineModel","labelLineLen","labelLineLen2","angle","textX","textY","textAlign","midAngle","startAngle","endAngle","cos","dy","sin","labelRotate","getFormattedLabel","getName","getBoundingRect","isLabelInside","x1","r0","y1","x2","y2","x3","y3","rotate","label","verticalAlign","rotation","inside","zrUtil","modelUtil","finder","ecModel","point","seriesIndex","getSeriesByIndex","dataIndex","queryDataIndex","el","getItemGraphicEl","coordSys","coordinateSystem","getTooltipPosition","dataToPoint","getValues","map","dimensions","dim","mapDimension","rect","clone","applyTransform","transform","echarts","axisPointerModelHelper","axisTrigger","registerPreprocessor","option","axisPointer","link","registerProcessor","PRIORITY","PROCESSOR","STATISTIC","api","getComponent","coordSysAxesInfo","collect","registerAction","type","event","update","AxisPointerModel","extendComponentModel","defaultOption","show","triggerOn","zlevel","z","snap","triggerTooltip","value","status","animation","animationDurationUpdate","lineStyle","color","shadowStyle","formatter","precision","margin","padding","backgroundColor","borderColor","borderWidth","shadowBlur","shadowColor","handle","icon","size","shadowOffsetX","shadowOffsetY","throttle","env","TooltipContent","TooltipRichContent","formatUtil","numberUtil","graphic","findPointFromSeries","layoutUtil","Model","globalListener","axisHelper","axisPointerViewHelper","_model","getTooltipRenderMode","bind","proxyRect","Rect","shape","extendComponentView","init","node","tooltipContent","tooltipModel","renderMode","this","_renderMode","getDom","_newLine","_tooltipContent","render","group","removeAll","_tooltipModel","_ecModel","_api","_lastDataByCoordSys","_alwaysShowContent","setEnterable","_initGlobalListener","_keepShow","register","currTrigger","e","dispatchAction","indexOf","_tryShow","_hide","_lastX","_lastY","self","clearTimeout","_refreshUpdateTimeout","setTimeout","isDisposed","manuallyShowTip","payload","from","uid","makeDispatchAction","_ticket","dataByCoordSys","tooltip","offsetX","offsetY","target","tooltipOption","_manuallyAxisShowTip","pointInfo","getZr","findHover","manuallyHideTip","hideLater","buildTooltipModel","model","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","cb","delay","_showTimout","globalTooltipModel","singleDefaultHTML","singleParamsList","singleTooltipModel","newLine","markers","itemCoordSys","dataByAxis","item","axisModel","axisDim","axisIndex","axisValue","seriesDefaultHTML","valueLabel","getValueLabel","axis","seriesDataIndices","valueLabelOpt","idxItem","series","dataIndexInside","dataParams","getDataParams","axisType","axisId","getAxisRawValue","axisValueLabel","html","seriesTooltip","formatTooltip","isObject","newMarkers","merge","firstLine","join","encodeHTML","reverse","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","random","undefined","dataModel","dataType","tooltipTrigger","defaultHtml","params","asyncTicket","name","getRawIndex","tooltipOpt","content","subTooltipModel","formatTpl","callback","cbTicket","setContent","getHeight","contentSize","getSize","align","vAlign","viewSize","slice","layoutRect","getLayoutRect","pos","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","moveTo","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","thisItem","lastIndices","newIndices","lastIdxItem","newIdxItem","dispose","hide","unregister","modelCascade","resultModel","pop","isInstance","gapH","gapV","getOuterSize","domWidth","domHeight","gap","rectWidth","rectHeight","SeriesModel","createListFromArray","getInitialData","useEncodeDefaulter","getMarkerPosition","pt","clampData","offset","getLayout","offsetIndex","getBaseAxis","isHorizontal","NaN","legendHoverLink","barMinHeight","barMinAngle","large","largeThreshold","progressive","progressiveChunkMode","itemStyle","emphasis","LegendVisualProvider","getDataWithEncodedVisual","getRawData","getAllNames","rawData","mapArray","containName","indexOfName","dataWithEncodedVisual","getItemVisual","key","makeInner","modelHelper","curry","inner","illegalPoint","isIllegalPoint","inputAxesInfo","axesInfo","shouldHide","outputFinder","showValueMap","updaters","showPointer","showTooltip","coordSysMap","coordSysKey","coordSysContainsPoint","containPoint","axisInfo","inputAxisInfo","findInputAxisInfo","val","pointToData","processOnAxis","linkTriggers","tarAxisInfo","tarKey","linkGroup","srcAxisInfo","srcKey","srcValItem","mapper","scale","parse","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","isBlank","containData","involveSeries","payloadInfo","buildPayloadsBySeries","payloadBatch","snapToValue","minDist","minDiff","seriesModels","seriesNestestValue","dataIndices","dataDim","getAxisTooltipData","result","nestestValue","indicesOfNearest","isFinite","diff","axisPointerModel","coordSysModel","makeKey","coordSysItem","coordSysId","id","coordSysIndex","componentIndex","coordSysType","coordSysMainType","mainType","outputAxesInfo","valItem","useHandle","sampleItem","escapeConnect","zr","highDownKey","lastHighlights","newHighlights","batchItem","toHighlight","toDownplay","batch","axisName","isNaN","BaseBarSeries","dependencies","brushSelector","getProgressive","getProgressiveThreshold","progressiveThreshold","clip","roundCap","seriesType","actionInfos","actionInfo","selected","eachComponent","subType","query","method","isSelected","seriesId","updateSelectedMap","targetList","_targetList","_selectTargetMap","reduce","targetMap","set","createHashMap","select","selectedMode","unSelect","toggleSelected","linearMap","labelLayout","PI2","getViewRect","getBoxLayoutParams","eachSeriesByType","valueDim","viewRect","center","radius","minAngle","validDataCount","sum","getSum","unitRadian","clockwise","roseType","stillShowZeroSum","extent","getDataExtent","restAngle","valueSumLargerThanMinAngle","currentAngle","setItemLayout","_barGrid","largeLayout","registerLayout","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","registerVisual","reset","setVisual","_graphic","extendShape","buildPath","ctx","dr","rCenter","unitStartX","unitStartY","unitEndX","unitEndY","lessThanCircle","arc","closePath","showContent","trigger","alwaysShowContent","displayMode","confine","showDelay","hideDelay","transitionDuration","enterable","borderRadius","extraCssText","animationEasingUpdate","crossStyle","textStyle","fontSize","Text","_zr","_show","_hideTimeout","prototype","constructor","_enterable","attr","markerRich","remove","prefix","suffix","startId","endId","substr","textWidth","textHeight","textBorderRadius","textBackgroundColor","textOffset","style","rich","textLineHeight","textFill","textPadding","add","on","_inContent","_hideDelay","bounding","time","isShow","createListSimply","getPercentWithPrecision","dataSelectableMixin","_dataProvider","retrieveRawAttr","_sourceHelper","makeSeriesEncodeForNameBased","PieSeries","extendSeriesModel","superApply","arguments","legendVisualProvider","_createSelectableList","_defaultLabelLine","mergeOption","newOption","superCall","encodeDefaulter","count","valueList","percent","hostModel","$vars","defaultEmphasis","labelLineNormalOpt","labelLine","labelLineEmphasisOpt","hoverAnimation","minShowLabelAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","left","top","right","bottom","alignTo","distanceToLabelLine","smooth","animationType","animationTypeUpdate","animationEasing","mixin","BaseAxisPointer","viewHelper","cartesianAxisHelper","AxisView","CartesianAxisPointer","makeElOption","elOption","grid","axisPointerType","otherExtent","getCartesian","getOtherAxis","getGlobalExtent","pixelValue","toGlobalCoord","dataToCoord","elStyle","buildElStyle","pointerOption","pointerShapeBuilder","graphicKey","pointer","layoutInfo","buildCartesianSingleLabelElOption","getHandleTransform","labelInside","getTransformedPosition","labelDirection","updateHandleTransform","axisExtent","dimIndex","currPosition","cursorOtherValue","cursorPoint","tooltipOptions","index","line","targetShape","makeLineShape","getAxisDimIndex","subPixelOptimize","shadow","bandWidth","getBandWidth","span","makeRectShape","registerAxisPointerClass","handler","records","initGlobalListeners","record","useHandler","eventType","dis","dispatchTooltipFinally","pendings","initialized","doEnter","onLeave","actuallyPayload","showLen","showTip","hideLen","hideTip","pendingList","matrix","AxisBuilder","styleModel","getLineStyle","fill","getAreaStyle","stroke","buildLabelElOption","labelPos","paddings","normalizeCssArray","confineInContainer","bgColor","textFont","getTextColor","textPosition","lineWidth","z2","getLabel","axisDimension","seriesData","isString","replace","isFunction","create","translate","labelOffset","textLayout","innerTextLayout","textVerticalAlign","p1","p2","xDimIndex","xy","wh","makeSectorShape","createDataSelectAction","dataColor","pieLayout","dataFilter","clazzUtil","eventTool","throttleUtil","updateProps","animationModel","moveAnimation","props","propsEqual","lastProp","stopAnimation","lastProps","newProps","equals","updateLabelShowHide","labelEl","getHandleTransProps","trans","updateMandatoryProps","silent","traverse","_group","_lastGraphicKey","_handle","_dragging","_lastValue","_lastStatus","_payloadInfo","animationThreshold","forceRender","_axisModel","_axisPointerModel","clear","_moveAnimation","determineAnimation","doUpdateProps","updatePointerEl","updateLabelEl","Group","createPointerEl","createLabelEl","_renderHandle","isCategoryAxis","useSnap","seriesDataCount","getAxisInfo","getExtent","pointerEl","setStyle","isInit","handleModel","createIcon","cursor","draggable","onmousemove","stop","onmousedown","_onHandleDragMove","drift","ondragend","_onHandleDragEnd","includeStyles","getItemStyle","handleSize","createOrUpdate","_moveHandleToValue","_doDispatchAxisPointer","doClear","buildLabel","enableClassExtend","_labelHelper","getDefaultLabel","setLabel","normalStyle","hoverStyle","labelPositionOutside","hoverLabelModel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","isRectText","autoColor","fixPosition","legendModels","findComponents","filterSelf","ChartView","updateDataSelected","hasAnimation","toggleItemSelected","animate","when","PiePiece","call","sector","Sector","polyline","Polyline","updateData","piePieceProto","firstCreate","childAt","labelText","sectorShape","getShallow","setShape","initProps","visualColor","useStyle","defaults","lineJoin","cursorStyle","withAnimation","_updateLabel","highDownOnUpdate","isAnimationEnabled","fromState","toState","ignore","hoverIgnore","animateTo","normalIgnore","setHoverStyle","targetLineShape","points","targetTextStyle","origin","labelHoverModel","labelLineHoverModel","useInsideStyle","opacity","inherits","PieView","sectorGroup","_sectorGroup","oldData","_data","isFirstRender","onSectorClick","piePiece","eachChild","child","setItemGraphicEl","newIdx","oldIdx","off","execute","s","removeClipPath","setClipPath","_createClipPath","clipPath","initOrUpdate","itemLayout","AxisPointerView","globalAxisPointerModel","_layout","layoutMode","ignoreSize","subtext","subtarget","itemGap","fontWeight","subtextStyle","titleModel","textStyleModel","subtextStyleModel","retrieve2","textEl","setTextStyle","disableBox","subText","subTextEl","sublink","triggerEvent","window","open","eventData","componentType","groupRect","layoutOption","alignStyle","_config","__DEV__","_helper","barItemStyle","Path","_throttle","_createClipPathFromCoordSys","createClipPath","Sausage","BAR_BORDER_WIDTH_QUERY","_eventPos","getClipArea","coord","coordSysClipArea","getArea","baseAxis","onBand","expandWidth","extendChartView","_updateDrawMode","coordinateSystemType","_isLargeDraw","_renderLarge","_renderNormal","incrementalPrepareRender","_clear","incrementalRender","_incrementalRenderLarge","isLargeDraw","pipelineContext","isHorizontalOrRadial","needsClip","hasValue","isClipped","elementCreator","updateStyle","newIndex","oldIndex","removeRect","removeSector","createLarge","noop","eachItemGraphicEl","mathMax","mathMin","cartesian2d","coordSysBoundingRect","signWidth","signHeight","clipped","polar","isUpdate","rectShape","animateProperty","animateTarget","isRadial","ShapeClass","parent","fixedLineWidth","getLineWidth","signX","signY","isZeroOnPolar","isPolar","getVisual","itemStyleModel","getBarItemStyle","rawLayout","LargePath","startPoint","__startPoint","baseDimIdx","__baseDimIdx","lineTo","incremental","__largeDataIndices","__barWidth","setLargeStyle","largePathUpdateDataIndex","largePath","largePathFindDataIndex","valueDimIdx","largeDataIndices","barWidthHalf","startValueVal","pointerBaseVal","pointerValueVal","baseLowerBound","baseUpperBound","ii","barBaseVal","barValueVal","getTargetSeries","paletteScope","seiresModelMap","__paletteScope","dataAll","idxMap","rawIdx","filteredIdx","singleDataColor","singleDataBorderColor","getColorFromPalette","setItemVisual","zrColor","eventUtil","toCamelCase","vendors","gCssText","assembleTransition","duration","transitionCurve","transitionText","vendorPrefix","assembleFont","cssText","round","assembleCssText","canvasSupported","toHex","borderName","camelCase","container","wxa","document","createElement","_x","_y","appendChild","_container","onmouseenter","normalizeEvent","dispatch","onmouseleave","stl","currentStyle","defaultView","getComputedStyle","domStyle","display","innerHTML","pointerEvents","clientWidth","clientHeight","viewportRootOffset","painter","getViewportRootOffset","offsetLeft","offsetTop","parseInt","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","makeStyleMapper","excludes","getBorderLineDash","lineDash"],"mappings":"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","file":"js/chunk-979c7ce4.ec7fd10b.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar List = require(\"../../data/List\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar extend = _util.extend;\nvar isArray = _util.isArray;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n *\n * @param {module:echarts/model/Series} seriesModel\n * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n *        The options in opt, see `echarts/data/helper/createDimensions`\n * @param {Array.<string>} [nameList]\n * @return {module:echarts/data/List}\n */\nfunction _default(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  });\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      if (list[j].y + delta > viewTop + viewHeight) {\n        break;\n      }\n\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  }\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      if (list[j].y - delta < viewTop) {\n        break;\n      }\n\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // right-side\n    ? Number.MAX_VALUE // down\n    : 0 // up\n    : isDownList // left-side\n    ? Number.MAX_VALUE // down\n    : 0; // up\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (list[i].labelAlignTo !== 'none') {\n        continue;\n      }\n\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // right-down, left-down\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // right-up, left-up\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].x = farthestX;\n    }\n\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (labelLayoutList[i].x < cx) {\n      leftmostX = Math.min(leftmostX, labelLayoutList[i].x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, labelLayoutList[i].x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n\n    if (isPositionCenter(layout)) {\n      continue;\n    }\n\n    var linePoints = layout.linePoints;\n\n    if (linePoints) {\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var realTextWidth = layout.textRect.width;\n      var targetTextWidth;\n\n      if (isAlignToEdge) {\n        if (layout.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.labelMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.labelMargin - linePoints[2][0] - layout.labelDistance;\n        }\n      } else {\n        if (layout.x < cx) {\n          targetTextWidth = layout.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.x - layout.bleedMargin;\n        }\n      }\n\n      if (targetTextWidth < layout.textRect.width) {\n        layout.text = textContain.truncateText(layout.text, targetTextWidth, layout.font);\n\n        if (layout.labelAlignTo === 'edge') {\n          realTextWidth = textContain.getWidth(layout.text, layout.font);\n        }\n      }\n\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (isAlignToEdge) {\n        if (layout.x < cx) {\n          linePoints[2][0] = viewLeft + layout.labelMargin + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.labelMargin - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (layout.x < cx) {\n          linePoints[2][0] = layout.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = layout.x - layout.labelDistance;\n        }\n\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = layout.y;\n    }\n  }\n}\n\nfunction isPositionCenter(layout) {\n  // Not change x for center label\n  return layout.position === 'center';\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var labelMargin = parsePercent(labelModel.get('margin'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    var font = labelModel.getFont();\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n\n    if (layout.angle < minShowLabelRadian) {\n      return;\n    }\n\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = dx < 0 ? viewLeft + labelMargin : viewLeft + viewWidth - labelMargin;\n        } else {\n          textX = x3 + (dx < 0 ? -labelDistance : labelDistance);\n        }\n\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? dx > 0 ? 'right' : 'left' : dx > 0 ? 'left' : 'right';\n    }\n\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside,\n      labelDistance: labelDistance,\n      labelAlignTo: labelAlignTo,\n      labelMargin: labelMargin,\n      bleedMargin: bleedMargin,\n      textRect: textRect,\n      text: text,\n      font: font\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} {point: [x, y], el: ...} point Will not be null.\n */\nfunction _default(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n\n  if (dataIndex == null || dataIndex < 0 || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n      return data.mapDimension(dim);\n    }), dataIndex, true)) || [];\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n\n  return {\n    point: point,\n    el: el\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisPointerModelHelper = require(\"./axisPointer/modelHelper\");\n\nvar axisTrigger = require(\"./axisPointer/axisTrigger\");\n\nrequire(\"./axisPointer/AxisPointerModel\");\n\nrequire(\"./axisPointer/AxisPointerView\");\n\nrequire(\"./axisPointer/CartesianAxisPointer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// CartesianAxisPointer is not supposed to be required here. But consider\n// echarts.simple.js and online build tooltip, which only require gridSimple,\n// CartesianAxisPointer should be able to required somewhere.\necharts.registerPreprocessor(function (option) {\n  // Always has a global axisPointerModel for default setting.\n  if (option) {\n    (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n    var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n    // is not set, remain null/undefined, otherwise it will\n    // override existent link setting.\n\n    if (link && !zrUtil.isArray(link)) {\n      option.axisPointer.link = [link];\n    }\n  }\n}); // This process should proformed after coordinate systems created\n// and series data processed. So put it on statistic processing stage.\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n  // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n  ecModel.getComponent('axisPointer').coordSysAxesInfo = axisPointerModelHelper.collect(ecModel, api);\n}); // Broadcast to all views.\n\necharts.registerAction({\n  type: 'updateAxisPointer',\n  event: 'updateAxisPointer',\n  update: ':updateAxisPointer'\n}, axisTrigger);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerModel = echarts.extendComponentModel({\n  type: 'axisPointer',\n  coordSysAxesInfo: null,\n  defaultOption: {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: null,\n    // set default in AxisPonterView.js\n    zlevel: 0,\n    z: 50,\n    type: 'line',\n    // 'line' 'shadow' 'cross' 'none'.\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    value: null,\n    status: null,\n    // Init value depends on whether handle is used.\n    // [group0, group1, ...]\n    // Each group can be: {\n    //      mapper: function () {},\n    //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n    //      xAxisId: ...,\n    //      yAxisName: ...,\n    //      angleAxisIndex: ...\n    // }\n    // mapper: can be ignored.\n    //      input: {axisInfo, value}\n    //      output: {axisInfo, value}\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      type: 'solid'\n    },\n    shadowStyle: {\n      color: 'rgba(150,150,150,0.3)'\n    },\n    label: {\n      show: true,\n      formatter: null,\n      // string | Function\n      precision: 'auto',\n      // Or a number like 0, 1, 2 ...\n      margin: 3,\n      color: '#fff',\n      padding: [5, 7, 5, 7],\n      backgroundColor: 'auto',\n      // default: axis line color\n      borderColor: null,\n      borderWidth: 0,\n      shadowBlur: 3,\n      shadowColor: '#aaa' // Considering applicability, common style should\n      // better not have shadowOffset.\n      // shadowOffsetX: 0,\n      // shadowOffsetY: 2\n\n    },\n    handle: {\n      show: false,\n\n      /* eslint-disable */\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      // jshint ignore:line\n\n      /* eslint-enable */\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: '#333',\n      shadowBlur: 3,\n      shadowColor: '#aaa',\n      shadowOffsetX: 0,\n      shadowOffsetY: 2,\n      // For mobile performance\n      throttle: 40\n    }\n  }\n});\nvar _default = AxisPointerModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar TooltipContent = require(\"./TooltipContent\");\n\nvar TooltipRichContent = require(\"./TooltipRichContent\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar findPointFromSeries = require(\"../axisPointer/findPointFromSeries\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar Model = require(\"../../model/Model\");\n\nvar globalListener = require(\"../axisPointer/globalListener\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar axisPointerViewHelper = require(\"../axisPointer/viewHelper\");\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar parsePercent = numberUtil.parsePercent;\nvar proxyRect = new graphic.Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\n\nvar _default = echarts.extendComponentView({\n  type: 'tooltip',\n  init: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = tooltipModel.get('renderMode');\n    this._renderMode = getTooltipRenderMode(renderMode);\n    var tooltipContent;\n\n    if (this._renderMode === 'html') {\n      tooltipContent = new TooltipContent(api.getDom(), api);\n      this._newLine = '<br/>';\n    } else {\n      tooltipContent = new TooltipRichContent(api);\n      this._newLine = '\\n';\n    }\n\n    this._tooltipContent = tooltipContent;\n  },\n  render: function (tooltipModel, ecModel, api) {\n    if (env.node) {\n      return;\n    } // Reset\n\n\n    this.group.removeAll();\n    /**\n     * @private\n     * @type {module:echarts/component/tooltip/TooltipModel}\n     */\n\n    this._tooltipModel = tooltipModel;\n    /**\n     * @private\n     * @type {module:echarts/model/Global}\n     */\n\n    this._ecModel = ecModel;\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this._api = api;\n    /**\n     * Should be cleaned when render.\n     * @private\n     * @type {Array.<Array.<Object>>}\n     */\n\n    this._lastDataByCoordSys = null;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update();\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n    this._initGlobalListener();\n\n    this._keepShow();\n  },\n  _initGlobalListener: function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  },\n  _keepShow: function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api; // Try to keep the tooltip show when refreshing\n\n    if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && tooltipModel.get('triggerOn') !== 'none') {\n      var self = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self._lastX,\n          y: self._lastY\n        });\n      });\n    }\n  },\n\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node) {\n      return;\n    }\n\n    var dispatchAction = makeDispatchAction(payload, api); // Reset ticket\n\n    this._ticket = ''; // When triggered from axisPointer.\n\n    var dataByCoordSys = payload.dataByCoordSys;\n\n    if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.position = [payload.x, payload.y];\n      el.update();\n      el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        event: {},\n        dataByCoordSys: payload.dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          position: payload.position,\n          target: pointInfo.el,\n          event: {}\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target,\n        event: {}\n      }, dispatchAction);\n    }\n  },\n  manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n\n    if (!this._alwaysShowContent && this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n\n    this._lastX = this._lastY = null;\n\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  },\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (!seriesModel) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n    if (tooltipModel.get('trigger') !== 'axis') {\n      return;\n    }\n\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  },\n  _tryShow: function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n\n    if (!tooltipModel) {\n      return;\n    } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } // Always show item tooltip if mouse is on the element with dataIndex\n    else if (el && el.dataIndex != null) {\n        this._lastDataByCoordSys = null;\n\n        this._showSeriesItemTooltip(e, el, dispatchAction);\n      } // Tooltip provided directly. Like legend.\n      else if (el && el.tooltip) {\n          this._lastDataByCoordSys = null;\n\n          this._showComponentItemTooltip(e, el, dispatchAction);\n        } else {\n          this._lastDataByCoordSys = null;\n\n          this._hide(dispatchAction);\n        }\n  },\n  _showOrMove: function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easyer to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = zrUtil.bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  },\n  _showAxisTooltip: function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleDefaultHTML = [];\n    var singleParamsList = [];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n    var renderMode = this._renderMode;\n    var newLine = this._newLine;\n    var markers = {};\n    each(dataByCoordSys, function (itemCoordSys) {\n      // var coordParamList = [];\n      // var coordDefaultHTML = [];\n      // var coordTooltipModel = buildTooltipModel([\n      //     e.tooltipOption,\n      //     itemCoordSys.tooltipOption,\n      //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n      //     globalTooltipModel\n      // ]);\n      // var displayMode = coordTooltipModel.get('displayMode');\n      // var paramsList = displayMode === 'single' ? singleParamsList : [];\n      each(itemCoordSys.dataByAxis, function (item) {\n        var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n        var axisValue = item.value;\n        var seriesDefaultHTML = [];\n\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n\n        var valueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n        zrUtil.each(item.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var dataParams = series && series.getDataParams(dataIndex);\n          dataParams.axisDim = item.axisDim;\n          dataParams.axisIndex = item.axisIndex;\n          dataParams.axisType = item.axisType;\n          dataParams.axisId = item.axisId;\n          dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n          dataParams.axisValueLabel = valueLabel;\n\n          if (dataParams) {\n            singleParamsList.push(dataParams);\n            var seriesTooltip = series.formatTooltip(dataIndex, true, null, renderMode);\n            var html;\n\n            if (zrUtil.isObject(seriesTooltip)) {\n              html = seriesTooltip.html;\n              var newMarkers = seriesTooltip.markers;\n              zrUtil.merge(markers, newMarkers);\n            } else {\n              html = seriesTooltip;\n            }\n\n            seriesDefaultHTML.push(html);\n          }\n        }); // Default tooltip content\n        // FIXME\n        // (1) shold be the first data which has name?\n        // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n        var firstLine = valueLabel;\n\n        if (renderMode !== 'html') {\n          singleDefaultHTML.push(seriesDefaultHTML.join(newLine));\n        } else {\n          singleDefaultHTML.push((firstLine ? formatUtil.encodeHTML(firstLine) + newLine : '') + seriesDefaultHTML.join(newLine));\n        }\n      });\n    }, this); // In most case, the second axis is shown upper than the first one.\n\n    singleDefaultHTML.reverse();\n    singleDefaultHTML = singleDefaultHTML.join(this._newLine + this._newLine);\n    var positionExpr = e.position;\n\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr, undefined, markers);\n      }\n    }); // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n\n  },\n  _showSeriesItemTooltip: function (e, el, dispatchAction) {\n    var ecModel = this._ecModel; // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n\n    var seriesIndex = el.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n    var dataModel = el.dataModel || seriesModel;\n    var dataIndex = el.dataIndex;\n    var dataType = el.dataType;\n    var data = dataModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n    var tooltipTrigger = tooltipModel.get('trigger');\n\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var seriesTooltip = dataModel.formatTooltip(dataIndex, false, dataType, this._renderMode);\n    var defaultHtml;\n    var markers;\n\n    if (zrUtil.isObject(seriesTooltip)) {\n      defaultHtml = seriesTooltip.html;\n      markers = seriesTooltip.markers;\n    } else {\n      defaultHtml = seriesTooltip;\n      markers = null;\n    }\n\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markers);\n    }); // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  },\n  _showComponentItemTooltip: function (e, el, dispatchAction) {\n    var tooltipOpt = el.tooltip;\n\n    if (typeof tooltipOpt === 'string') {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n    }\n\n    var subTooltipModel = new Model(tooltipOpt, this._tooltipModel, this._ecModel);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on cooridinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n\n    this._showOrMove(subTooltipModel, function () {\n      this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n    }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  },\n  _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markers) {\n    // Reset ticket\n    this._ticket = '';\n\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n\n    var tooltipContent = this._tooltipContent;\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n\n    if (formatter && typeof formatter === 'string') {\n      html = formatUtil.formatTpl(formatter, params, true);\n    } else if (typeof formatter === 'function') {\n      var callback = bind(function (cbTicket, html) {\n        if (cbTicket === this._ticket) {\n          tooltipContent.setContent(html, markers, tooltipModel);\n\n          this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n        }\n      }, this);\n      this._ticket = asyncTicket;\n      html = formatter(params, asyncTicket, callback);\n    }\n\n    tooltipContent.setContent(html, markers, tooltipModel);\n    tooltipContent.show(tooltipModel);\n\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  },\n\n  /**\n   * @param  {string|Function|Array.<number>|Object} positionExpr\n   * @param  {number} x Mouse x\n   * @param  {number} y Mouse y\n   * @param  {boolean} confine Whether confine tooltip content in view rect.\n   * @param  {Object|<Array.<Object>} params\n   * @param  {module:zrender/Element} el target element\n   * @param  {module:echarts/ExtensionAPI} api\n   * @return {Array.<number>}\n   */\n  _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n    var viewWidth = this._api.getWidth();\n\n    var viewHeight = this._api.getHeight();\n\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n\n    if (typeof positionExpr === 'function') {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n\n    if (zrUtil.isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (zrUtil.isObject(positionExpr)) {\n      positionExpr.width = contentSize[0];\n      positionExpr.height = contentSize[1];\n      var layoutRect = layoutUtil.getLayoutRect(positionExpr, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null; // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n\n      vAlign = null;\n    } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (typeof positionExpr === 'string' && el) {\n        var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n        x = pos[0];\n        y = pos[1];\n      } else {\n        var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n        x = pos[0];\n        y = pos[1];\n      }\n\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n    if (tooltipModel.get('confine')) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n\n    content.moveTo(x, y);\n  },\n  // FIXME\n  // Should we remove this but leave this to user?\n  _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    return !!contentNotChanged;\n  },\n  _hide: function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  },\n  dispose: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    this._tooltipContent.hide();\n\n    globalListener.unregister('itemTooltip', api);\n  }\n});\n/**\n * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n * From top to bottom. (the last one should be globalTooltipModel);\n */\n\n\nfunction buildTooltipModel(modelCascade) {\n  var resultModel = modelCascade.pop();\n\n  while (modelCascade.length) {\n    var tooltipOpt = modelCascade.pop();\n\n    if (tooltipOpt) {\n      if (Model.isInstance(tooltipOpt)) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      } // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n\n\n      if (typeof tooltipOpt === 'string') {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n\n      resultModel = new Model(tooltipOpt, resultModel, resultModel.ecModel);\n    }\n  }\n\n  return resultModel;\n}\n\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n}\n\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n\n  if (gapH != null) {\n    if (x + width + gapH > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n\n  return [x, y];\n}\n\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\n\nfunction calcTooltipPosition(position, rect, contentSize) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var gap = 5;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - gap;\n      break;\n\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + gap;\n      break;\n\n    case 'left':\n      x = rect.x - domWidth - gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'right':\n      x = rect.x + rectWidth + gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n\n  return [x, y];\n}\n\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.__base_bar__',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  getMarkerPosition: function (value) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys) {\n      // PENDING if clamp ?\n      var pt = coordSys.dataToPoint(coordSys.clampData(value));\n      var data = this.getData();\n      var offset = data.getLayout('offset');\n      var size = data.getLayout('size');\n      var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n      pt[offsetIndex] += offset + size / 2;\n      return pt;\n    }\n\n    return [NaN, NaN];\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // 0\n    barMinHeight: 0,\n    // 0\n    barMinAngle: 0,\n    // cursor: null,\n    large: false,\n    largeThreshold: 400,\n    progressive: 3e3,\n    progressiveChunkMode: 'mod',\n    // barMaxWidth: null,\n    // In cartesian, the default value is 1. Otherwise null.\n    // barMinWidth: null,\n    // \n    // barWidth: null,\n    // 30%\n    // barGap: '30%',\n    // 20%\n    // barCategoryGap: '20%',\n    // label: {\n    //      show: false\n    // },\n    itemStyle: {},\n    emphasis: {}\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n * @param {Function} getDataWithEncodedVisual Function to get data after filtered. It stores all the encoding info\n * @param {Function} getRawData Function to get raw data before filtered.\n */\nfunction LegendVisualProvider(getDataWithEncodedVisual, getRawData) {\n  this.getAllNames = function () {\n    var rawData = getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n    return rawData.mapArray(rawData.getName);\n  };\n\n  this.containName = function (name) {\n    var rawData = getRawData();\n    return rawData.indexOfName(name) >= 0;\n  };\n\n  this.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = getDataWithEncodedVisual();\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n\n  this.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = getDataWithEncodedVisual();\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n}\n\nvar _default = LegendVisualProvider;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar modelHelper = require(\"./modelHelper\");\n\nvar findPointFromSeries = require(\"./findPointFromSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry;\nvar inner = makeInner();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @param {Object} coordSysAxesInfo\n * @param {Object} payload\n * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n * @param {Object} [payload.dataIndex] finder, restrict target axes.\n * @param {Object} [payload.axesInfo] finder, restrict target axes.\n *        [{\n *          axisDim: 'x'|'y'|'angle'|...,\n *          axisIndex: ...,\n *          value: ...\n *        }, ...]\n * @param {Function} [payload.dispatchAction]\n * @param {Object} [payload.tooltipOption]\n * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n *        which can be specified in dispatchAction\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Object} content of event obj for echarts.connect.\n */\n\nfunction _default(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n  // See #6121. But we are not able to reproduce it yet.\n\n  if (!coordSysAxesInfo) {\n    return;\n  }\n\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n\n  var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputFinder = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  }; // Process for triggered axes.\n\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n      }\n    });\n  }); // Process for linked axes.\n\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n  });\n  updateModelActually(showValueMap, axesInfo, outputFinder);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputFinder;\n}\n\nfunction processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n  var axis = axisInfo.axis;\n\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  } // Heavy calculation. So put it after axis.containData checking.\n\n\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n  // By defualt use the first involved series data as a sample to connect.\n\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    zrUtil.extend(outputFinder, payloadBatch[0]);\n  } // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n\n\n  if (!dontSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n\n  updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\n\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.getData().mapDimension(dim, true);\n    var seriesNestestValue;\n    var dataIndices;\n\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      // false,\n      axis.type === 'category' ? 0.5 : null);\n\n      if (!dataIndices.length) {\n        return;\n      }\n\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff); // Consider category case\n\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\n\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\n\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\n\nfunction updateModelActually(showValueMap, axesInfo, outputFinder) {\n  var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value; // For label formatter param and highlight.\n\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    } // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n        // If hide, value still need to be set, consider\n        // click legend to toggle axis blank.\n        !axisInfo.useHandle && (option.status = 'hide');\n      } // If status is 'hide', should be no info in payload.\n\n\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\n\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  } // In most case only one axis (or event one series is used). It is\n  // convinient to fetch payload.seriesIndex and payload.dataIndex\n  // dirtectly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n\n\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\n\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification shoule be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = inner(zr)[highDownKey] || {};\n  var newHighlights = inner(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  }); // Diff.\n\n  var toHighlight = [];\n  var toDownplay = [];\n  zrUtil.each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  zrUtil.each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    batch: toHighlight\n  });\n}\n\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\n\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\n\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseBarSeries = require(\"./BaseBarSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = BaseBarSeries.extend({\n  type: 'series.bar',\n  dependencies: ['grid', 'polar'],\n  brushSelector: 'rect',\n\n  /**\n   * @override\n   */\n  getProgressive: function () {\n    // Do not support progressive in normal mode.\n    return this.get('large') ? this.get('progressive') : false;\n  },\n\n  /**\n   * @override\n   */\n  getProgressiveThreshold: function () {\n    // Do not support progressive in normal mode.\n    var progressiveThreshold = this.get('progressiveThreshold');\n    var largeThreshold = this.get('largeThreshold');\n\n    if (largeThreshold > progressiveThreshold) {\n      progressiveThreshold = largeThreshold;\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    // If clipped\n    // Only available on cartesian2d\n    clip: true,\n    // If use caps on two sides of bars\n    // Only available on tangential polar bar\n    roundCap: false\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, actionInfos) {\n  zrUtil.each(actionInfos, function (actionInfo) {\n    actionInfo.update = 'updateView';\n    /**\n     * @payload\n     * @property {string} seriesName\n     * @property {string} name\n     */\n\n    echarts.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      ecModel.eachComponent({\n        mainType: 'series',\n        subType: seriesType,\n        query: payload\n      }, function (seriesModel) {\n        if (seriesModel[actionInfo.method]) {\n          seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n        }\n\n        var data = seriesModel.getData(); // Create selected map\n\n        data.each(function (idx) {\n          var name = data.getName(idx);\n          selected[name] = seriesModel.isSelected(name) || false;\n        });\n      });\n      return {\n        name: payload.name,\n        selected: selected,\n        seriesId: payload.seriesId\n      };\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Data selectable mixin for chart series.\n * To eanble data select, option of series must have `selectedMode`.\n * And each data item will use `selected` to toggle itself selected status\n */\nvar _default = {\n  /**\n   * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n   *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n   *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n   */\n  updateSelectedMap: function (targetList) {\n    this._targetList = zrUtil.isArray(targetList) ? targetList.slice() : [];\n    this._selectTargetMap = zrUtil.reduce(targetList || [], function (targetMap, target) {\n      targetMap.set(target.name, target);\n      return targetMap;\n    }, zrUtil.createHashMap());\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  // PENGING If selectedMode is null ?\n  select: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      this._selectTargetMap.each(function (target) {\n        target.selected = false;\n      });\n    }\n\n    target && (target.selected = true);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  unSelect: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n    // selectedMode !== 'single' && target && (target.selected = false);\n\n    target && (target.selected = false);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  toggleSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n    if (target != null) {\n      this[target.selected ? 'unSelect' : 'select'](name, id);\n      return target.selected;\n    }\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  isSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    return target && target.selected;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nvar layout = require(\"../../util/layout\");\n\nvar labelLayout = require(\"./labelLayout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction _default(seriesType, ecModel, api, payload) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var viewRect = getViewRect(seriesModel, api);\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = parsePercent(viewRect.width, api.getWidth());\n    var height = parsePercent(viewRect.height, api.getHeight());\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width) + viewRect.x;\n    var cy = parsePercent(center[1], height) + viewRect.y;\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r,\n          viewRect: viewRect\n        });\n        return;\n      } // FIXME  2.0  roseType  area \n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r,\n        viewRect: viewRect\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            layout.angle = angle;\n            layout.startAngle = startAngle + dir * idx * angle;\n            layout.endAngle = startAngle + dir * (idx + 1) * angle;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n            layout.startAngle = currentAngle;\n            layout.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n\n    labelLayout(seriesModel, r, viewRect.width, viewRect.height, viewRect.x, viewRect.y);\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar layout = _barGrid.layout;\nvar largeLayout = _barGrid.largeLayout;\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/BarSeries\");\n\nrequire(\"./bar/BarView\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerLayout(echarts.PRIORITY.VISUAL.LAYOUT, zrUtil.curry(layout, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n// only exist in this module, but probably also exist in other modules, like `barPolar`.\n\necharts.registerLayout(echarts.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout);\necharts.registerVisual({\n  seriesType: 'bar',\n  reset: function (seriesModel) {\n    // Visual coding for legend\n    seriesModel.getData().setVisual('legendSymbol', 'roundRect');\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _graphic = require(\"../graphic\");\n\nvar extendShape = _graphic.extendShape;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Sausage: similar to sector, but have half circle on both sides\n * @public\n */\nvar _default = extendShape({\n  type: 'sausage',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var dr = (r - r0) * 0.5;\n    var rCenter = r0 + dr;\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitStartX = Math.cos(startAngle);\n    var unitStartY = Math.sin(startAngle);\n    var unitEndX = Math.cos(endAngle);\n    var unitEndY = Math.sin(endAngle);\n    var lessThanCircle = clockwise ? endAngle - startAngle < Math.PI * 2 : startAngle - endAngle < Math.PI * 2;\n\n    if (lessThanCircle) {\n      ctx.moveTo(unitStartX * r0 + x, unitStartY * r0 + y);\n      ctx.arc(unitStartX * rCenter + x, unitStartY * rCenter + y, dr, -Math.PI + startAngle, startAngle, !clockwise);\n    }\n\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.moveTo(unitEndX * r + x, unitEndY * r + y);\n    ctx.arc(unitEndX * rCenter + x, unitEndY * rCenter + y, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n      ctx.moveTo(unitStartX * r0 + x, unitEndY * r0 + y);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentModel({\n  type: 'tooltip',\n  dependencies: ['axisPointer'],\n  defaultOption: {\n    zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    displayMode: 'single',\n    // 'single' | 'multipleByCoordSys'\n    renderMode: 'auto',\n    // 'auto' | 'html' | 'richText'\n    // 'auto': use html by default, and use non-html if `document` is not defined\n    // 'html': use html for tooltip\n    // 'richText': use canvas, svg, and etc. for tooltip\n    //  {Array} | {Function}\n    // position: null\n    // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n    // align: null,\n    // verticalAlign: null,\n    //  content  viewRect  false \n    confine: false,\n    // {string}Template  {Function}\n    // formatter: null\n    showDelay: 0,\n    // ms\n    hideDelay: 100,\n    // s\n    transitionDuration: 0.4,\n    enterable: false,\n    // 0.7\n    backgroundColor: 'rgba(50,50,50,0.7)',\n    // \n    borderColor: '#333',\n    // px4\n    borderRadius: 4,\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // Extra css text\n    extraCssText: '',\n    // \n    axisPointer: {\n      // \n      // 'line' | 'shadow' | 'cross'\n      type: 'line',\n      // type  line  tooltip line \n      //  'x' | 'y' | 'angle' | 'radius' | 'auto'\n      //  'auto' category  x \n      //  angle \n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: '#999',\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {} // lineStyle and shadowStyle should not be specified here,\n        // otherwise it will always override those styles on option.axisPointer.\n\n      }\n    },\n    textStyle: {\n      color: '#fff',\n      fontSize: 14\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Text = require(\"zrender/lib/graphic/Text\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import Group from 'zrender/src/container/Group';\n\n/**\n * @alias module:echarts/component/tooltip/TooltipRichContent\n * @constructor\n */\nfunction TooltipRichContent(api) {\n  this._zr = api.getZr();\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout;\n}\n\nTooltipRichContent.prototype = {\n  constructor: TooltipRichContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function () {// noop\n  },\n  show: function (tooltipModel) {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.attr('show', true);\n    this._show = true;\n  },\n\n  /**\n   * Set tooltip content\n   *\n   * @param {string} content rich text string of content\n   * @param {Object} markerRich rich text style\n   * @param {Object} tooltipModel tooltip model\n   */\n  setContent: function (content, markerRich, tooltipModel) {\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var markers = {};\n    var text = content;\n    var prefix = '{marker';\n    var suffix = '|}';\n    var startId = text.indexOf(prefix);\n\n    while (startId >= 0) {\n      var endId = text.indexOf(suffix);\n      var name = text.substr(startId + prefix.length, endId - startId - prefix.length);\n\n      if (name.indexOf('sub') > -1) {\n        markers['marker' + name] = {\n          textWidth: 4,\n          textHeight: 4,\n          textBorderRadius: 2,\n          textBackgroundColor: markerRich[name],\n          // TODO: textOffset is not implemented for rich text\n          textOffset: [3, 0]\n        };\n      } else {\n        markers['marker' + name] = {\n          textWidth: 10,\n          textHeight: 10,\n          textBorderRadius: 5,\n          textBackgroundColor: markerRich[name]\n        };\n      }\n\n      text = text.substr(endId + 1);\n      startId = text.indexOf('{marker');\n    }\n\n    this.el = new Text({\n      style: {\n        rich: markers,\n        text: content,\n        textLineHeight: 20,\n        textBackgroundColor: tooltipModel.get('backgroundColor'),\n        textBorderRadius: tooltipModel.get('borderRadius'),\n        textFill: tooltipModel.get('textStyle.color'),\n        textPadding: tooltipModel.get('padding')\n      },\n      z: tooltipModel.get('z')\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var bounding = this.el.getBoundingRect();\n    return [bounding.width, bounding.height];\n  },\n  moveTo: function (x, y) {\n    if (this.el) {\n      this.el.attr('position', [x, y]);\n    }\n  },\n  hide: function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater mutiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  getOuterSize: function () {\n    var size = this.getSize();\n    return {\n      width: size[0],\n      height: size[1]\n    };\n  }\n};\nvar _default = TooltipRichContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _number = require(\"../../util/number\");\n\nvar getPercentWithPrecision = _number.getPercentWithPrecision;\n\nvar dataSelectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawAttr = _dataProvider.retrieveRawAttr;\n\nvar _sourceHelper = require(\"../../data/helper/sourceHelper\");\n\nvar makeSeriesEncodeForNameBased = _sourceHelper.makeSeriesEncodeForNameBased;\n\nvar LegendVisualProvider = require(\"../../visual/LegendVisualProvider\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PieSeries = echarts.extendSeriesModel({\n  type: 'series.pie',\n  // Overwrite\n  init: function (option) {\n    PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n    this.updateSelectedMap(this._createSelectableList());\n\n    this._defaultLabelLine(option);\n  },\n  // Overwrite\n  mergeOption: function (newOption) {\n    PieSeries.superCall(this, 'mergeOption', newOption);\n    this.updateSelectedMap(this._createSelectableList());\n  },\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  },\n  _createSelectableList: function () {\n    var data = this.getRawData();\n    var valueDim = data.mapDimension('value');\n    var targetList = [];\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      targetList.push({\n        name: data.getName(i),\n        value: data.get(valueDim, i),\n        selected: retrieveRawAttr(data, i, 'selected')\n      });\n    }\n\n    return targetList;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // \n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // \n    clockwise: true,\n    startAngle: 90,\n    // 0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // \n    selectedOffset: 10,\n    // \n    hoverOffset: 10,\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // singlemultiple\n    // selectedMode: false,\n    // 'radius' | 'area'\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // If rotate around circle\n      rotate: false,\n      show: true,\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      margin: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5 // formatter: Tooltip.formatter\n      // TEXTSTYLE\n      // distance: positioninnerlabel()\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // \n      length: 15,\n      // \n      length2: 15,\n      smooth: false,\n      lineStyle: {\n        // color: ,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasing: 'cubicOut'\n  }\n});\nzrUtil.mixin(PieSeries, dataSelectableMixin);\nvar _default = PieSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CartesianAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  }\n});\n\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\n\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\n\nAxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\nvar _default = CartesianAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\n\nfunction register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n  useHandler('globalout', onLeave);\n\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  }; // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}\n\nexports.register = register;\nexports.unregister = unregister;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Model} axisPointerModel\n */\nfunction buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\n\n\nfunction buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get('label.precision'),\n    formatter: axisPointerModel.get('label.formatter')\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get('axisLine.lineStyle.color');\n  }\n\n  elOption.label = {\n    shape: {\n      x: 0,\n      y: 0,\n      width: width,\n      height: height,\n      r: labelModel.get('borderRadius')\n    },\n    position: position.slice(),\n    // TODO: rich\n    style: {\n      text: text,\n      textFont: font,\n      textFill: labelModel.getTextColor(),\n      textPosition: 'inside',\n      textPadding: paddings,\n      fill: bgColor,\n      stroke: labelModel.get('borderColor') || 'transparent',\n      lineWidth: labelModel.get('borderWidth') || 0,\n      shadowBlur: labelModel.get('shadowBlur'),\n      shadowColor: labelModel.get('shadowColor'),\n      shadowOffsetX: labelModel.get('shadowOffsetX'),\n      shadowOffsetY: labelModel.get('shadowOffsetY')\n    },\n    // Lable should be over axisPointer.\n    z2: 10\n  };\n} // Do not overflow ec container\n\n\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\n/**\n * @param {number} value\n * @param {module:echarts/coord/Axis} axis\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} opt\n * @param {Array.<Object>} seriesDataIndices\n * @param {number|string} opt.precision 'auto' or a number\n * @param {string|Function} opt.formatter label formatter\n */\n\n\nfunction getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  value = axis.scale.parse(value);\n  var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n  // helps to debounce when when moving label.\n  value, {\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n\n  if (formatter) {\n    var params = {\n      value: axisHelper.getAxisRawValue(axis, value),\n      axisDimension: axis.dim,\n      axisIndex: axis.index,\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params.seriesData.push(dataParams);\n    });\n\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params);\n    }\n  }\n\n  return text;\n}\n/**\n * @param {module:echarts/coord/Axis} axis\n * @param {number} value\n * @param {Object} layoutInfo {\n *  rotation, position, labelOffset, labelDirection, labelMargin\n * }\n */\n\n\nfunction getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\n\nfunction buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\n/**\n * @param {Array.<number>} p1\n * @param {Array.<number>} p2\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\n/**\n * @param {Array.<number>} xy\n * @param {Array.<number>} wh\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\n\nfunction makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}\n\nexports.buildElStyle = buildElStyle;\nexports.buildLabelElOption = buildLabelElOption;\nexports.getValueLabel = getValueLabel;\nexports.getTransformedPosition = getTransformedPosition;\nexports.buildCartesianSingleLabelElOption = buildCartesianSingleLabelElOption;\nexports.makeLineShape = makeLineShape;\nexports.makeRectShape = makeRectShape;\nexports.makeSectorShape = makeSectorShape;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./pie/PieSeries\");\n\nrequire(\"./pie/PieView\");\n\nvar createDataSelectAction = require(\"../action/createDataSelectAction\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar pieLayout = require(\"./pie/pieLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\ncreateDataSelectAction('pie', [{\n  type: 'pieToggleSelect',\n  event: 'pieselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'pieSelect',\n  event: 'pieselected',\n  method: 'select'\n}, {\n  type: 'pieUnSelect',\n  event: 'pieunselected',\n  method: 'unSelect'\n}]);\necharts.registerVisual(dataColor('pie'));\necharts.registerLayout(zrUtil.curry(pieLayout, 'pie'));\necharts.registerProcessor(dataFilter('pie'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./tooltip/TooltipModel\");\n\nrequire(\"./tooltip/TooltipView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Better way to pack data in graphic element\n\n/**\n * @action\n * @property {string} type\n * @property {number} seriesIndex\n * @property {number} dataIndex\n * @property {number} [x]\n * @property {number} [y]\n */\necharts.registerAction({\n  type: 'showTip',\n  event: 'showTip',\n  update: 'tooltip:manuallyShowTip'\n}, // noop\nfunction () {});\necharts.registerAction({\n  type: 'hideTip',\n  event: 'hideTip',\n  update: 'tooltip:manuallyHideTip'\n}, // noop\nfunction () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar clazzUtil = require(\"../../util/clazz\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar axisPointerModelHelper = require(\"./modelHelper\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\n\nfunction BaseAxisPointer() {}\n\nBaseAxisPointer.prototype = {\n  /**\n   * @private\n   */\n  _group: null,\n\n  /**\n   * @private\n   */\n  _lastGraphicKey: null,\n\n  /**\n   * @private\n   */\n  _handle: null,\n\n  /**\n   * @private\n   */\n  _dragging: false,\n\n  /**\n   * @private\n   */\n  _lastValue: null,\n\n  /**\n   * @private\n   */\n  _lastStatus: null,\n\n  /**\n   * @private\n   */\n  _payloadInfo: null,\n\n  /**\n   * In px, arbitrary value. Do not set too small,\n   * no animation is ok for most cases.\n   * @protected\n   */\n  animationThreshold: 15,\n\n  /**\n   * @implement\n   */\n  render: function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  },\n\n  /**\n   * @implement\n   */\n  remove: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @implement\n   */\n  dispose: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @protected\n   */\n  determineAnimation: function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  },\n\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  },\n\n  /**\n   * @protected\n   */\n  createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Rect(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updatePointerEl: function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        shape: elOption.label.shape,\n        position: elOption.label.position\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderHandle: function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n    handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  },\n\n  /**\n   * @private\n   */\n  _moveHandleToValue: function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragMove: function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  },\n\n  /**\n   * Throttled method.\n   * @private\n   */\n  _doDispatchAxisPointer: function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragEnd: function (moveAnimation) {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  },\n\n  /**\n   * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {number} value\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0}\n   */\n  getHandleTransform: null,\n\n  /**\n   * * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {Object} transform {position, rotation}\n   * @param {Array.<number>} delta [dx, dy]\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n   */\n  updateHandleTransform: null,\n\n  /**\n   * @private\n   */\n  clear: function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n  },\n\n  /**\n   * @protected\n   */\n  doClear: function () {// Implemented by sub-class if necessary.\n  },\n\n  /**\n   * @protected\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n  buildLabel: function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n};\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals = equals && propsEqual(lastProps[key], item);\n    });\n    return !!equals;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    position: trans.position.slice(),\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nclazzUtil.enableClassExtend(BaseAxisPointer);\nvar _default = BaseAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _labelHelper = require(\"../helper/labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n  var labelModel = itemModel.getModel('label');\n  var hoverLabelModel = itemModel.getModel('emphasis.label');\n  graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(seriesModel.getData(), dataIndex),\n    isRectText: true,\n    autoColor: color\n  });\n  fixPosition(normalStyle);\n  fixPosition(hoverStyle);\n}\n\nfunction fixPosition(style, labelPositionOutside) {\n  if (style.textPosition === 'outside') {\n    style.textPosition = labelPositionOutside;\n  }\n}\n\nexports.setLabel = setLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Series} seriesModel\n * @param {boolean} hasAnimation\n * @inner\n */\nfunction updateDataSelected(uid, seriesModel, hasAnimation, api) {\n  var data = seriesModel.getData();\n  var dataIndex = this.dataIndex;\n  var name = data.getName(dataIndex);\n  var selectedOffset = seriesModel.get('selectedOffset');\n  api.dispatchAction({\n    type: 'pieToggleSelect',\n    from: uid,\n    name: name,\n    seriesId: seriesModel.id\n  });\n  data.each(function (idx) {\n    toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n  });\n}\n/**\n * @param {module:zrender/graphic/Sector} el\n * @param {Object} layout\n * @param {boolean} isSelected\n * @param {number} selectedOffset\n * @param {boolean} hasAnimation\n * @inner\n */\n\n\nfunction toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var offset = isSelected ? selectedOffset : 0;\n  var position = [dx * offset, dy * offset];\n  hasAnimation // animateTo will stop revious animation like update transition\n  ? el.animate().when(200, {\n    position: position\n  }).start('bounceOut') : el.attr('position', position);\n}\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction PiePiece(data, idx) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: 2\n  });\n  var polyline = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(sector);\n  this.add(polyline);\n  this.add(text);\n  this.updateData(data, idx, true);\n}\n\nvar piePieceProto = PiePiece.prototype;\n\npiePieceProto.updateData = function (data, idx, firstCreate) {\n  var sector = this.childAt(0);\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    var animationType = seriesModel.getShallow('animationType');\n\n    if (animationType === 'scale') {\n      sector.shape.r = layout.r0;\n      graphic.initProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, idx);\n    } // Expansion\n    else {\n        sector.shape.endAngle = layout.startAngle;\n        graphic.updateProps(sector, {\n          shape: {\n            endAngle: layout.endAngle\n          }\n        }, seriesModel, idx);\n      }\n  } else {\n    if (animationTypeUpdate === 'expansion') {\n      // Sectors are set to be target shape and an overlaying clipPath is used for animation\n      sector.setShape(sectorShape);\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n  } // Update common style\n\n\n  var visualColor = data.getItemVisual(idx, 'color');\n  sector.useStyle(zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: visualColor\n  }, itemModel.getModel('itemStyle').getItemStyle()));\n  sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n  toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(null, idx), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n  var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n  this._updateLabel(data, idx, withAnimation);\n\n  this.highDownOnUpdate = itemModel.get('hoverAnimation') && seriesModel.isAnimationEnabled() ? function (fromState, toState) {\n    if (toState === 'emphasis') {\n      labelLine.ignore = labelLine.hoverIgnore;\n      labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n      // Or it may stopped on the wrong shape\n\n      sector.stopAnimation(true);\n      sector.animateTo({\n        shape: {\n          r: layout.r + seriesModel.get('hoverOffset')\n        }\n      }, 300, 'elasticOut');\n    } else {\n      labelLine.ignore = labelLine.normalIgnore;\n      labelText.ignore = labelText.normalIgnore;\n      sector.stopAnimation(true);\n      sector.animateTo({\n        shape: {\n          r: layout.r\n        }\n      }, 300, 'elasticOut');\n    }\n  } : null;\n  graphic.setHoverStyle(this);\n};\n\npiePieceProto._updateLabel = function (data, idx, withAnimation) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n\n  if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n    labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n    return;\n  }\n\n  var targetLineShape = {\n    points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n  };\n  var targetTextStyle = {\n    x: labelLayout.x,\n    y: labelLayout.y\n  };\n\n  if (withAnimation) {\n    graphic.updateProps(labelLine, {\n      shape: targetLineShape\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: targetTextStyle\n    }, seriesModel, idx);\n  } else {\n    labelLine.attr({\n      shape: targetLineShape\n    });\n    labelText.attr({\n      style: targetTextStyle\n    });\n  }\n\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var labelLineModel = itemModel.getModel('labelLine');\n  var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: labelLayout.text,\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  var smooth = labelLineModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.4;\n  }\n\n  labelLine.setShape({\n    smooth: smooth\n  });\n};\n\nzrUtil.inherits(PiePiece, graphic.Group); // Pie view\n\nvar PieView = ChartView.extend({\n  type: 'pie',\n  init: function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    if (payload && payload.from === this.uid) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var hasAnimation = ecModel.get('animation');\n    var isFirstRender = !oldData;\n    var animationType = seriesModel.get('animationType');\n    var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n    var onSectorClick = zrUtil.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n    var selectedMode = seriesModel.get('selectedMode');\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n      if (isFirstRender && animationType !== 'scale') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      selectedMode && piePiece.on('click', onSectorClick);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n      if (!isFirstRender && animationTypeUpdate !== 'transition') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      piePiece.updateData(data, newIdx);\n      piePiece.off('click');\n      selectedMode && piePiece.on('click', onSectorClick);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n\n    if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n      var removeClipPath = zrUtil.bind(group.removeClipPath, group);\n      group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n    } else {\n      // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: cx,\n        cy: cy,\n        r0: 0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: startAngle,\n        clockwise: clockwise\n      }\n    });\n    var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n    initOrUpdate(clipPath, {\n      shape: {\n        endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n      }\n    }, seriesModel, cb);\n    return clipPath;\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = PieView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar globalListener = require(\"./globalListener\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerView = echarts.extendComponentView({\n  type: 'axisPointer',\n  render: function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    globalListener.unregister(api.getZr(), 'axisPointer');\n    AxisPointerView.superApply(this._model, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n    AxisPointerView.superApply(this._model, 'dispose', arguments);\n  }\n});\nvar _default = AxisPointerView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar echarts = require(\"../echarts\");\n\nvar graphic = require(\"../util/graphic\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Model\necharts.extendComponentModel({\n  type: 'title',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 6,\n    show: true,\n    text: '',\n    // \n    // link: null,\n    // self | blank\n    target: 'blank',\n    subtext: '',\n    // \n    // sublink: null,\n    // self | blank\n    subtarget: 'blank',\n    // 'center'  'left'  'right'\n    //  {number}xpx\n    left: 0,\n    // 'top'  'bottom'  'center'\n    //  {number}ypx\n    top: 0,\n    // \n    // 'auto' | 'left' | 'right' | 'center'\n    //  left \n    // textAlign: null\n    //\n    // \n    // 'auto' | 'top' | 'bottom' | 'middle'\n    //  top \n    // textVerticalAlign: null\n    // textBaseline: null // The same as textVerticalAlign.\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // px10\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bolder',\n      color: '#333'\n    },\n    subtextStyle: {\n      color: '#aaa'\n    }\n  }\n}); // View\n\necharts.extendComponentView({\n  type: 'title',\n  render: function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: titleModel.get('text'),\n        textFill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: graphic.setTextStyle({}, subtextStyleModel, {\n        text: subText,\n        textFill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        textVerticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n\n    if (link) {\n      textEl.on('click', function () {\n        window.open(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        window.open(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    textEl.eventData = subTextEl.eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom');\n\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n\n    group.attr('position', [layoutRect.x, layoutRect.y]);\n    var alignStyle = {\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\n\nvar Model = require(\"../../model/Model\");\n\nvar barItemStyle = require(\"./barItemStyle\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar _throttle = require(\"../../util/throttle\");\n\nvar throttle = _throttle.throttle;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createClipPath = _createClipPathFromCoordSys.createClipPath;\n\nvar Sausage = require(\"../../util/shape/sausage\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'barBorderWidth'];\nvar _eventPos = [0, 0]; // FIXME\n// Just for compatible with ec2.\n\nzrUtil.extend(Model.prototype, barItemStyle);\n\nfunction getClipArea(coord, data) {\n  var coordSysClipArea = coord.getArea && coord.getArea();\n\n  if (coord.type === 'cartesian2d') {\n    var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n    // We should not clip this part.\n    // See test/bar2.html\n\n    if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n      var expandWidth = data.getLayout('bandWidth');\n\n      if (baseAxis.isHorizontal()) {\n        coordSysClipArea.x -= expandWidth;\n        coordSysClipArea.width += expandWidth * 2;\n      } else {\n        coordSysClipArea.y -= expandWidth;\n        coordSysClipArea.height += expandWidth * 2;\n      }\n    }\n  }\n\n  return coordSysClipArea;\n}\n\nvar _default = echarts.extendChartView({\n  type: 'bar',\n  render: function (seriesModel, ecModel, api) {\n    this._updateDrawMode(seriesModel);\n\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api);\n    } else {}\n\n    return this.group;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel);\n  },\n  incrementalRender: function (params, seriesModel, ecModel, api) {\n    // Do not support progressive in normal mode.\n    this._incrementalRenderLarge(params, seriesModel);\n  },\n  _updateDrawMode: function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  },\n  _renderNormal: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    var needsClip = seriesModel.get('clip', true);\n    var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n    group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n    // And don't want the label are clipped.\n\n    var roundCap = seriesModel.get('roundCap', true);\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n      if (needsClip) {\n        // Clip will modify the layout params.\n        // And return a boolean to determine if the shape are fully clipped.\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      var el = elementCreator[coord.type](dataIndex, layout, isHorizontalOrRadial, animationModel, false, roundCap);\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).update(function (newIndex, oldIndex) {\n      var el = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(el);\n        return;\n      }\n\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n      if (needsClip) {\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      if (el) {\n        graphic.updateProps(el, {\n          shape: layout\n        }, animationModel, newIndex);\n      } else {\n        el = elementCreator[coord.type](newIndex, layout, isHorizontalOrRadial, animationModel, true, roundCap);\n      }\n\n      data.setItemGraphicEl(newIndex, el); // Add back\n\n      group.add(el);\n      updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n\n      if (coord.type === 'cartesian2d') {\n        el && removeRect(dataIndex, animationModel, el);\n      } else {\n        el && removeSector(dataIndex, animationModel, el);\n      }\n    }).execute();\n    this._data = data;\n  },\n  _renderLarge: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    createLarge(seriesModel, this.group); // Use clipPath in large mode.\n\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  },\n  _incrementalRenderLarge: function (params, seriesModel) {\n    createLarge(seriesModel, this.group, true);\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel) {\n    this._clear(ecModel);\n  },\n  _clear: function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel && ecModel.get('animation') && data && !this._isLargeDraw) {\n      data.eachItemGraphicEl(function (el) {\n        if (el.type === 'sector') {\n          removeSector(el.dataIndex, ecModel, el);\n        } else {\n          removeRect(el.dataIndex, ecModel, el);\n        }\n      });\n    } else {\n      group.removeAll();\n    }\n\n    this._data = null;\n  }\n});\n\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar clip = {\n  cartesian2d: function (coordSysBoundingRect, layout) {\n    var signWidth = layout.width < 0 ? -1 : 1;\n    var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    var x = mathMax(layout.x, coordSysBoundingRect.x);\n    var x2 = mathMin(layout.x + layout.width, coordSysBoundingRect.x + coordSysBoundingRect.width);\n    var y = mathMax(layout.y, coordSysBoundingRect.y);\n    var y2 = mathMin(layout.y + layout.height, coordSysBoundingRect.y + coordSysBoundingRect.height);\n    layout.x = x;\n    layout.y = y;\n    layout.width = x2 - x;\n    layout.height = y2 - y;\n    var clipped = layout.width < 0 || layout.height < 0; // Reverse back\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    return clipped;\n  },\n  polar: function (coordSysClipArea) {\n    return false;\n  }\n};\nvar elementCreator = {\n  cartesian2d: function (dataIndex, layout, isHorizontal, animationModel, isUpdate) {\n    var rect = new graphic.Rect({\n      shape: zrUtil.extend({}, layout)\n    }); // Animation\n\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      var animateTarget = {};\n      rectShape[animateProperty] = 0;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return rect;\n  },\n  polar: function (dataIndex, layout, isRadial, animationModel, isUpdate, roundCap) {\n    // Keep the same logic with bar in catesion: use end value to control\n    // direction. Notice that if clockwise is true (by default), the sector\n    // will always draw clockwisely, no matter whether endAngle is greater\n    // or less than startAngle.\n    var clockwise = layout.startAngle < layout.endAngle;\n    var ShapeClass = !isRadial && roundCap ? Sausage : graphic.Sector;\n    var sector = new ShapeClass({\n      shape: zrUtil.defaults({\n        clockwise: clockwise\n      }, layout)\n    }); // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return sector;\n  }\n};\n\nfunction removeRect(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      width: 0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nfunction removeSector(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      r: el.shape.r0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nvar getLayout = {\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = getLineWidth(itemModel, layout); // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle\n    };\n  }\n};\n\nfunction isZeroOnPolar(layout) {\n  return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n}\n\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n  var color = data.getItemVisual(dataIndex, 'color');\n  var opacity = data.getItemVisual(dataIndex, 'opacity');\n  var stroke = data.getVisual('borderColor');\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var hoverStyle = itemModel.getModel('emphasis.itemStyle').getBarItemStyle();\n\n  if (!isPolar) {\n    el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n  }\n\n  el.useStyle(zrUtil.defaults({\n    stroke: isZeroOnPolar(layout) ? 'none' : stroke,\n    fill: isZeroOnPolar(layout) ? 'none' : color,\n    opacity: opacity\n  }, itemStyleModel.getBarItemStyle()));\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n  if (!isPolar) {\n    setLabel(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n  }\n\n  if (isZeroOnPolar(layout)) {\n    hoverStyle.fill = hoverStyle.stroke = 'none';\n  }\n\n  graphic.setHoverStyle(el, hoverStyle);\n} // In case width or height are too small.\n\n\nfunction getLineWidth(itemModel, rawLayout) {\n  var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n  return Math.min(lineWidth, Math.abs(rawLayout.width), Math.abs(rawLayout.height));\n}\n\nvar LargePath = Path.extend({\n  type: 'largeBar',\n  shape: {\n    points: []\n  },\n  buildPath: function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    var startPoint = this.__startPoint;\n    var baseDimIdx = this.__baseDimIdx;\n\n    for (var i = 0; i < points.length; i += 2) {\n      startPoint[baseDimIdx] = points[i + baseDimIdx];\n      ctx.moveTo(startPoint[0], startPoint[1]);\n      ctx.lineTo(points[i], points[i + 1]);\n    }\n  }\n});\n\nfunction createLarge(seriesModel, group, incremental) {\n  // TODO support polar\n  var data = seriesModel.getData();\n  var startPoint = [];\n  var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n  startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n  var el = new LargePath({\n    shape: {\n      points: data.getLayout('largePoints')\n    },\n    incremental: !!incremental,\n    __startPoint: startPoint,\n    __baseDimIdx: baseDimIdx,\n    __largeDataIndices: data.getLayout('largeDataIndices'),\n    __barWidth: data.getLayout('barWidth')\n  });\n  group.add(el);\n  setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n  el.seriesIndex = seriesModel.seriesIndex;\n\n  if (!seriesModel.get('silent')) {\n    el.on('mousedown', largePathUpdateDataIndex);\n    el.on('mousemove', largePathUpdateDataIndex);\n  }\n} // Use throttle to avoid frequently traverse to find dataIndex.\n\n\nvar largePathUpdateDataIndex = throttle(function (event) {\n  var largePath = this;\n  var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n  largePath.dataIndex = dataIndex >= 0 ? dataIndex : null;\n}, 30, false);\n\nfunction largePathFindDataIndex(largePath, x, y) {\n  var baseDimIdx = largePath.__baseDimIdx;\n  var valueDimIdx = 1 - baseDimIdx;\n  var points = largePath.shape.points;\n  var largeDataIndices = largePath.__largeDataIndices;\n  var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n  var startValueVal = largePath.__startPoint[valueDimIdx];\n  _eventPos[0] = x;\n  _eventPos[1] = y;\n  var pointerBaseVal = _eventPos[baseDimIdx];\n  var pointerValueVal = _eventPos[1 - baseDimIdx];\n  var baseLowerBound = pointerBaseVal - barWidthHalf;\n  var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n  for (var i = 0, len = points.length / 2; i < len; i++) {\n    var ii = i * 2;\n    var barBaseVal = points[ii + baseDimIdx];\n    var barValueVal = points[ii + valueDimIdx];\n\n    if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n      return largeDataIndices[i];\n    }\n  }\n\n  return -1;\n}\n\nfunction setLargeStyle(el, seriesModel, data) {\n  var borderColor = data.getVisual('borderColor') || data.getVisual('color');\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Pick color from palette for each data item.\n// Applicable for charts that require applying color palette\n// in data level (like pie, funnel, chord).\nfunction _default(seriesType) {\n  return {\n    getTargetSeries: function (ecModel) {\n      // Pie and funnel may use diferrent scope\n      var paletteScope = {};\n      var seiresModelMap = createHashMap();\n      ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        seriesModel.__paletteScope = paletteScope;\n        seiresModelMap.set(seriesModel.uid, seriesModel);\n      });\n      return seiresModelMap;\n    },\n    reset: function (seriesModel, ecModel) {\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      dataAll.each(function (rawIdx) {\n        var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n        var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n        var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n        var itemModel;\n\n        if (!singleDataColor || !singleDataBorderColor) {\n          // FIXME Performance\n          itemModel = dataAll.getItemModel(rawIdx);\n        }\n\n        if (!singleDataColor) {\n          var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'color', color);\n          }\n        }\n\n        if (!singleDataBorderColor) {\n          var borderColor = itemModel.get('itemStyle.borderColor'); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n          }\n        }\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar eventUtil = require(\"zrender/lib/core/event\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar formatUtil = require(\"../../util/format\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar toCamelCase = formatUtil.toCamelCase;\nvar vendors = ['', '-webkit-', '-moz-', '-o-'];\nvar gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n/**\n * @param {number} duration\n * @return {string}\n * @inner\n */\n\nfunction assembleTransition(duration) {\n  var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n  var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n  return zrUtil.map(vendors, function (vendorPrefix) {\n    return vendorPrefix + 'transition:' + transitionText;\n  }).join(';');\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\n\n\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  fontSize && cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\n/**\n * @param {Object} tooltipModel\n * @return {string}\n * @inner\n */\n\n\nfunction assembleCssText(tooltipModel) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n  transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n  if (backgroundColor) {\n    if (env.canvasSupported) {\n      cssText.push('background-Color:' + backgroundColor);\n    } else {\n      // for ie\n      cssText.push('background-Color:#' + zrColor.toHex(backgroundColor));\n      cssText.push('filter:alpha(opacity=70)');\n    }\n  } // Border style\n\n\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  }); // Text style\n\n  cssText.push(assembleFont(textStyleModel)); // Padding\n\n  if (padding != null) {\n    cssText.push('padding:' + formatUtil.normalizeCssArray(padding).join('px ') + 'px');\n  }\n\n  return cssText.join(';') + ';';\n}\n/**\n * @alias module:echarts/component/tooltip/TooltipContent\n * @constructor\n */\n\n\nfunction TooltipContent(container, api) {\n  if (env.wxa) {\n    return null;\n  }\n\n  var el = document.createElement('div');\n  var zr = this._zr = api.getZr();\n  this.el = el;\n  this._x = api.getWidth() / 2;\n  this._y = api.getHeight() / 2;\n  container.appendChild(el);\n  this._container = container;\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout; // FIXME\n  // Is it needed to trigger zr event manually if\n  // the browser do not support `pointer-events: none`.\n\n  var self = this;\n\n  el.onmouseenter = function () {\n    // clear the timeout in hideLater and keep showing tooltip\n    if (self._enterable) {\n      clearTimeout(self._hideTimeout);\n      self._show = true;\n    }\n\n    self._inContent = true;\n  };\n\n  el.onmousemove = function (e) {\n    e = e || window.event;\n\n    if (!self._enterable) {\n      // `pointer-events: none` is set to tooltip content div\n      // if `enterable` is set as `false`, and `el.onmousemove`\n      // can not be triggered. But in browser that do not\n      // support `pointer-events`, we need to do this:\n      // Try trigger zrender event to avoid mouse\n      // in and out shape too frequently\n      var handler = zr.handler;\n      eventUtil.normalizeEvent(container, e, true);\n      handler.dispatch('mousemove', e);\n    }\n  };\n\n  el.onmouseleave = function () {\n    if (self._enterable) {\n      if (self._show) {\n        self.hideLater(self._hideDelay);\n      }\n    }\n\n    self._inContent = false;\n  };\n}\n\nTooltipContent.prototype = {\n  constructor: TooltipContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function () {\n    // FIXME\n    // Move this logic to ec main?\n    var container = this._container;\n    var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n    var domStyle = container.style;\n\n    if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n      domStyle.position = 'relative';\n    } // Hide the tooltip\n    // PENDING\n    // this.hide();\n\n  },\n  show: function (tooltipModel) {\n    clearTimeout(this._hideTimeout);\n    var el = this.el;\n    el.style.cssText = gCssText + assembleCssText(tooltipModel) // Because of the reason described in:\n    // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n    // we should set initial value to `left` and `top`.\n    + ';left:' + this._x + 'px;top:' + this._y + 'px;' + (tooltipModel.get('extraCssText') || '');\n    el.style.display = el.innerHTML ? 'block' : 'none'; // If mouse occsionally move over the tooltip, a mouseout event will be\n    // triggered by canvas, and cuase some unexpectable result like dragging\n    // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n    // it. Although it is not suppored by IE8~IE10, fortunately it is a rare\n    // scenario.\n\n    el.style.pointerEvents = this._enterable ? 'auto' : 'none';\n    this._show = true;\n  },\n  setContent: function (content) {\n    this.el.innerHTML = content == null ? '' : content;\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var el = this.el;\n    return [el.clientWidth, el.clientHeight];\n  },\n  moveTo: function (x, y) {\n    // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n    var zr = this._zr;\n    var viewportRootOffset;\n\n    if (zr && zr.painter && (viewportRootOffset = zr.painter.getViewportRootOffset())) {\n      x += viewportRootOffset.offsetLeft;\n      y += viewportRootOffset.offsetTop;\n    }\n\n    var style = this.el.style;\n    style.left = x + 'px';\n    style.top = y + 'px';\n    this._x = x;\n    this._y = y;\n  },\n  hide: function () {\n    this.el.style.display = 'none';\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater mutiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  getOuterSize: function () {\n    var width = this.el.clientWidth;\n    var height = this.el.clientHeight; // Consider browser compatibility.\n    // IE8 does not support getComputedStyle.\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      var stl = document.defaultView.getComputedStyle(this.el);\n\n      if (stl) {\n        width += parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n        height += parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n      }\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n};\nvar _default = TooltipContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getBarItemStyle: function (excludes) {\n    var style = getBarItemStyle(this, excludes);\n\n    if (this.getBorderLineDash) {\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n    }\n\n    return style;\n  }\n};\nmodule.exports = _default;"],"sourceRoot":""}